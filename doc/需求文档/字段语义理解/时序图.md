```mermaid
sequenceDiagram
    autonumber
    %% å®šä¹‰å‚ä¸è€…é¢œè‰²ï¼ŒåŒºåˆ† UI å’Œ æœåŠ¡
    participant User as ğŸ‘¤ æ²»ç†äººå‘˜
    participant WB as ğŸ–¥ï¸ å·¥ä½œå° UI
    participant Detail as ğŸ“„ è¯¦æƒ…é¡µ UI<br>(Semantic Mode)
    participant SemAPI as ğŸ§  Semantic API<br>(è¯­ä¹‰æœåŠ¡)
    participant AssetAPI as ğŸ—„ï¸ Asset API<br>(èµ„äº§æœåŠ¡)

    note over WB, AssetAPI: ğŸŸ¢ é˜¶æ®µä¸€ï¼šå·¥ä½œå°åŠ è½½ä¸æ‰¹é‡å¤„ç†
    
    User->>WB: 1. æ‰“å¼€å­—æ®µè¯­ä¹‰ç†è§£å·¥ä½œå°
    activate WB
    WB->>SemAPI: GET /field-semantics/todos?filters...
    activate SemAPI
    SemAPI-->>WB: return todos[]<br>(field, status, risk, confidence)
    deactivate SemAPI
    WB->>WB: æ¸²æŸ“å¾…åŠåˆ—è¡¨ & ç»Ÿè®¡å¡
    deactivate WB

    User->>WB: 2. ç‚¹å‡»ã€Œæ‰¹é‡ç”Ÿæˆå»ºè®®ã€(Run)
    activate WB
    WB->>SemAPI: POST /semantic-runs (scope=filters)
    activate SemAPI
    SemAPI-->>WB: { runId, status: "RUNNING" }
    deactivate SemAPI
    
    loop è½®è¯¢çŠ¶æ€
        WB->>SemAPI: GET /semantic-runs/{runId}
        SemAPI-->>WB: { status: "SUCCEEDED", summary... }
    end
    
    WB->>SemAPI: GET /field-semantics/todos (åˆ·æ–°)
    SemAPI-->>WB: return updated todos[]
    WB->>WB: æ›´æ–°åˆ—è¡¨çŠ¶æ€ (æ›´å¤šå­—æ®µå˜ä¸º SUGGESTED)
    deactivate WB

    note over WB, AssetAPI: ğŸ”µ é˜¶æ®µäºŒï¼šè·¨é¡µè”åŠ¨ (æ ¸å¿ƒé“¾è·¯)

    User->>WB: 3. ç‚¹å‡»æŸè¡Œã€Œå®šä½ã€
    WB->>Detail: è·¯ç”±è·³è½¬ /logical-views/{id}<br>?mode=SEMANTIC&focusField=xxx
    activate Detail
    
    par å¹¶è¡ŒåŠ è½½æ•°æ® (æå‡æ€§èƒ½)
        Detail->>AssetAPI: GET /logical-views/{id} (Table Schema)
        Detail->>AssetAPI: GET /fields/{id}/context (Profile/Sample)
        Detail->>SemAPI: GET /suggestions?fieldRef=...
        Detail->>SemAPI: GET /decision?fieldRef=...
    end
    
    Detail->>Detail: âš¡ï¸ åˆ‡æ¢æ¨¡å¼: SEMANTIC<br>âš¡ï¸ æ‰“å¼€å³ä¾§ DecisionPanel<br>âš¡ï¸ é«˜äº® focusField
    deactivate Detail

    note over WB, AssetAPI: ğŸŸ  é˜¶æ®µä¸‰ï¼šå•å­—æ®µè£å†³ (Decision Loop)

    User->>Detail: 4. é€‰ä¸­å­—æ®µè¿›è¡Œè£å†³
    activate Detail
    
    alt Accept (æ¥å—å»ºè®®)
        User->>Detail: ç‚¹å‡»ã€Œæ¥å—ã€
        Detail->>SemAPI: POST /decisions (action: ACCEPT)
    else Modify (ä¿®æ”¹ç¡®è®¤)
        User->>Detail: ä¿®æ”¹ Term/Tags -> ç‚¹å‡»ã€Œç¡®è®¤ã€
        Detail->>SemAPI: POST /decisions (action: MODIFY)
    else Reject (æ‹’ç»)
        User->>Detail: ç‚¹å‡»ã€Œæ‹’ç»ã€-> å¡«å†™åŸå› 
        Detail->>SemAPI: POST /decisions (action: REJECT)
    end

    activate SemAPI
    SemAPI-->>Detail: { decisionId, status: "DECIDED" }
    deactivate SemAPI

    Detail->>Detail: âœ… æ›´æ–°å·¦ä¾§åˆ—è¡¨çŠ¶æ€ (âœ”)<br>ğŸ“Š æ›´æ–°å¤´éƒ¨è¿›åº¦æ¡<br>ğŸš€ æ£€æŸ¥æ˜¯å¦æ‰€æœ‰å…³é”®å­—æ®µå·²å®Œæˆ
    deactivate Detail

    note over WB, AssetAPI: ğŸŸ¢ é˜¶æ®µå››ï¼šè¿”å›é—­ç¯ (æ•°æ®ä¸€è‡´æ€§)

    User->>WB: 5. è¿”å›å·¥ä½œå°
    activate WB
    WB->>SemAPI: GET /field-semantics/todos (Re-fetch)
    SemAPI-->>WB: todos[]
    WB->>WB: åˆ·æ–°åˆ—è¡¨ (å·²å¤„ç†å­—æ®µæ¶ˆå¤±)
    deactivate WB
    ```