下面这份内容是**“可直接喂给大模型用于工程实现”的语义建模概览页工程规格说明**。
我已把你前面所有**整改结论、边界约束、指标口径、接口映射**统一收敛成**机器可理解、工程可落地**的格式。

你可以把**整段内容原样作为 System / Task Prompt**，让模型生成后端接口、SQL、前端页面或联调代码。

---

# 《语义建模概览页 · 工程开发规格（LLM Feeding Spec）》

**Version**: v2.4
**Scope**: Semantic Modeling Domain ONLY
**Audience**: Backend / Frontend / Data Model / AI Agent

---

## 1. 页面与模块定位（强约束）

### 1.1 页面身份

```yaml
page:
  name: SemanticModelingOverview
  menuPath: 语义治理 / 语义建模 / 语义建模概览
  type: overview_dashboard
```

### 1.2 页面职责（必须遵守）

```yaml
responsibilities:
  - 展示语义建模域内的整体状态与进展
  - 判断是否可进入下一建模阶段
  - 聚焦对象建模主线的阻塞与行动建议
```

### 1.3 明确禁止事项（硬约束）

```yaml
forbidden:
  - 展示数据质量执行结果
  - 展示数据安全策略状态
  - 展示语义版本发布状态
  - 提供任何编辑/裁决能力
```

---

## 2. 数据域与依赖边界

### 2.1 本页面允许依赖的数据域

```yaml
allowedDomains:
  - business_modeling      # 业务梳理、目标、KPI
  - semantic_modeling      # 字段语义、候选对象、对象建模
  - logical_view           # 表/字段结构（只读）
```

### 2.2 明确不依赖的数据域

```yaml
excludedDomains:
  - data_quality_execution
  - data_security_execution
  - semantic_version
```

---

## 3. 聚合接口定义（核心）

### 3.1 接口定义

```yaml
api:
  method: GET
  path: /api/v2/semantic-modeling/overview
  description: >
    聚合返回语义建模概览页所需的所有指标与状态。
    仅基于语义建模域数据，不包含质量/安全/版本执行信息。
```

### 3.2 请求参数

```yaml
request:
  tenantId: string
  projectId: string
  timeRange: enum [LAST_7_DAYS, LAST_30_DAYS, LAST_90_DAYS]
```

---

## 4. 返回结构（标准 Schema）

```yaml
response:
  meta:
    tenantId: string
    projectId: string
    timeRange: string
    generatedAt: timestamp

  kpis:
    objectScale: ObjectScaleKPI
    candidateReview: CandidateReviewKPI
    modelingConflict: ModelingConflictKPI
    modelingMaturity: ModelingMaturityKPI

  views:
    business: BusinessViewSummary
    tech: TechViewSummary

  stages:
    pipeline: ModelingStageStatus[]
    objectHeatTopN: ObjectHeatItem[]

  blockers: ModelingBlocker[]

  nextActions: NextAction[]
```

---

## 5. KPI 指标定义（模型必须严格按此生成）

### 5.1 业务对象规模（ObjectScaleKPI）

```yaml
ObjectScaleKPI:
  total: int
  published: int
  draft: int
  archived: int
  trend:
    - ts: date
      value: int
  filterHint:
    route: /semantic-modeling/objects
    query:
      status: [PUBLISHED, DRAFT, ARCHIVED]
```

**数据来源**

```yaml
source:
  table: business_object
  fields: [status]
```

---

### 5.2 候选与审核（CandidateReviewKPI）

```yaml
CandidateReviewKPI:
  total: int
  pending: int
  confirmed: int
  ignored: int
  pendingRate: float
  filterHint:
    route: /semantic-modeling/candidates
    query:
      status: [PENDING, CONFIRMED, IGNORED]
```

**数据来源**

```yaml
source:
  table: candidate_business_object
  fields: [status]
```

---

### 5.3 建模冲突与风险（ModelingConflictKPI）

```yaml
ModelingConflictKPI:
  total: int
  severity:
    critical: int
    warning: int
    info: int
  trend:
    - ts: date
      value: int
  filterHint:
    route: /field-semantic/review
    query:
      hasConflict: true
```

**统一问题模型（必须存在）**

```yaml
source:
  table: semantic_issue
  where:
    issueDomain: SEMANTIC_MODELING
    status: OPEN
```

---

### 5.4 语义建模成熟度（ModelingMaturityKPI）

```yaml
ModelingMaturityKPI:
  score: int            # 0~100
  components:
    keyFieldCompletionRate: float
    objectTypeDefinedRate: float
    conflictResolvedRate: float
  trendLabel: string
```

**计算规则**

```yaml
formula:
  score = round(
    0.4 * keyFieldCompletionRate +
    0.3 * objectTypeDefinedRate +
    0.3 * conflictResolvedRate
  )
```

---

## 6. 视角摘要（只读、仅作推进判断）

### 6.1 业务视角

```yaml
BusinessViewSummary:
  goalCoverage:
    rate: float
    totalGoals: int
    planned: int
    modeled: int
    landed: int
```

### 6.2 技术视角

```yaml
TechViewSummary:
  assetIngestion:
    connected: int
    total: int
    scanning: int
    error: int

  mappingProgress:
    mapped: int
    total: int
    missingObjects: string[]
```

> ⚠️ 不允许在此展示质量规则/执行结果

---

## 7. 建模阶段状态（Pipeline）

```yaml
ModelingStageStatus:
  key: enum [
    BUSINESS_MODELING,
    FIELD_SEMANTIC,
    CANDIDATE_OBJECT,
    OBJECT_MODELING
  ]
  label: string
  status: enum [NOT_STARTED, IN_PROGRESS, BLOCKED, DONE]
  progress: float?        # 仅 FIELD_SEMANTIC
  blockerCount: int?
```

---

## 8. 阻塞项模型（ModelingBlocker）

```yaml
ModelingBlocker:
  type: enum [
    GOAL_NOT_BOUND,
    KEY_FIELD_UNDECIDED,
    OBJECT_TYPE_CONFLICT,
    CANDIDATE_PENDING
  ]
  label: string
  count: int
  severity: enum [CRITICAL, WARNING, INFO]
  filterHint:
    route: string
    query: map
```

**来源**

```yaml
source:
  table: semantic_issue
```

---

## 9. 下一步行动（NextAction）

```yaml
NextAction:
  key: string
  label: string
  priority: int
  highlight: boolean
  route: string
  query: map
```

**生成规则**

```yaml
rules:
  - if exists blocker.severity == CRITICAL:
      highlight action targeting that blocker
  - else:
      highlight action of current IN_PROGRESS pipeline stage
```

---

## 10. 后端必须补齐的基础表（工程前置）

### 10.1 统一问题表（强烈建议）

```yaml
table: semantic_issue
fields:
  - issueId
  - issueDomain: SEMANTIC_MODELING
  - issueType
  - severity
  - scopeType: FIELD | OBJECT | TABLE
  - scopeRef
  - status: OPEN | RESOLVED
  - createdAt
  - resolvedAt
```

---

### 10.2 概览指标聚合表（性能保障）

```yaml
table: semantic_modeling_metrics_daily
fields:
  - date
  - projectId
  - objectTotal
  - candidatePending
  - conflictCount
  - maturityScore
```

---

## 11. 前端工程约束（模型生成必须遵守）

```yaml
frontendRules:
  - overviewPageIsReadOnly: true
  - noInlineEdit: true
  - allCardsAreNavigation: true
  - maxPrimaryCTA: 1
```

---

## 12. 给大模型的“最终一句话任务定义”

```text
你正在为一个数据语义治理平台实现「语义建模概览页」。
请严格按照本规格生成后端接口、数据聚合逻辑和前端展示结构。
该页面仅关注语义建模域，不得引入质量、安全或版本执行信息。
所有指标必须可追溯、可 drill-down，并遵守给定的计算口径与数据边界。
```

---
