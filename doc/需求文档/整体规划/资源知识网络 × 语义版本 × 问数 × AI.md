
# 资源知识网络 × 语义版本 × 问数 × AI

## 统一结构关系图说明（v2.4）

---

## 一、一句话总览（这张图想表达什么）

> **语义版本是“事实源”，
> 资源知识网络是“关系表达层”，
> 问数是“消费入口”，
> AI 是“基于网络的推理与生成能力”。**

---

## 二、整体分层结构（从下到上）

```text
┌────────────────────────────────┐
│        AI 能力层（推理 / 生成）  │
│  语义推荐 / 智能问数 / Agent    │
└──────────────▲─────────────────┘
               │ 图上下文
┌──────────────┴─────────────────┐
│      资源知识网络（Graph）      │
│  语义资产 × 数据资产 × 关系     │
└──────────────▲─────────────────┘
               │ 版本快照
┌──────────────┴─────────────────┐
│        语义版本（Semantic Ver） │
│  已裁决、可消费的语义事实       │
└──────────────▲─────────────────┘
               │ 人工裁决
┌──────────────┴─────────────────┐
│        语义建模 / 治理过程       │
│  AI Suggestion + Human Decision │
└──────────────▲─────────────────┘
               │ 元数据
┌──────────────┴─────────────────┐
│        数据基础层               │
│  数据源 / 表 / 字段 / Profiling │
└────────────────────────────────┘
```

---

## 三、每一层“只做一件事”（职责边界）

### 1️⃣ 语义建模 / 治理过程（过程态）

**做什么**

* 产生 Suggestion
* 人工 Review
* 决策记录

**不做什么**

* 不给下游直接用
* 不作为 AI 最终事实

👉 **这是“生产线”，不是“产品”**

---

### 2️⃣ 语义版本（事实源 · 核心锚点）

这是整个体系的**中枢节点**。

**语义版本包含什么**

* 业务对象（已确认）
* 字段语义（Term / Role / Tag）
* 对象关系
* 指标定义（后续）

**关键原则**

* **只有语义版本能被消费**
* 每个版本 = 一个不可变快照
* 可对比、可回滚

👉 **这层是“真理层（Source of Truth）”**

---

### 3️⃣ 资源知识网络（表达层 / 认知层）

> **它不是“新数据”，而是“语义版本的另一种表达方式”**

#### 输入

* 语义版本 vX.Y
* 数据资源元数据
* 治理规则（质量 / 安全）

#### 输出

* Graph（Nodes + Edges）
* 可查询、可遍历、可裁剪

#### 核心职责

* 把“表格化语义” → “网络化关系”
* 支撑：

  * 影响分析
  * 语义探索
  * AI 上下文

👉 **这是“看懂全局”的地方**

---

### 4️⃣ 问数（消费入口）

问数**不直接访问语义建模，也不理解建模过程**。

它只做一件事：

```text
用户问题
 → 查询语义版本
 → 在资源知识网络中找路径
 → 生成可执行查询
```

**问数依赖的是：**

* 业务对象定义
* 字段含义
* 对象关系

👉 全部来自 **语义版本 + 知识网络**

---

### 5️⃣ AI 能力层（推理与生成）

AI 在你们体系中 **有且只有三类“合法输入”**：

1. 当前语义版本
2. 资源知识网络（裁剪后的子图）
3. 用户上下文（问数 / 建模 / 治理）

**AI 不允许：**

* 直接访问原始库表
* 绕过版本机制
* 修改语义事实

---

## 四、资源知识网络的“内部结构”（画图用）

### 1️⃣ 节点（Node）类型

```text
[数据资源]
- 数据源
- 表
- 字段

[语义资产]
- 业务对象
- 对象属性
- 术语
- 标签
- 指标

[治理规则]
- 质量规则
- 安全分类
- 标准

[消费对象]
- 数据服务
- 场景
- 问数 Query
```

---

### 2️⃣ 关系（Edge）类型

```text
定义关系     业务对象 ──has──> 属性
映射关系     属性 ──maps_to──> 字段
语义关系     字段 ──means──> 术语
分类关系     字段 ──tagged──> 标签
约束关系     字段 ──checked_by──> 质量规则
安全关系     字段 ──classified_as──> 安全等级
衍生关系     服务 ──based_on──> 业务对象
消费关系     问数 ──uses──> 指标 / 对象
```

👉 **这是“知识”，不是“血缘”**

---

## 五、数据流（非常重要，给研发）

### 1️⃣ 正向数据流（发布）

```text
语义建模完成
 → 发布语义版本 v1.0
 → 构建知识网络快照
 → 标记为 Active
```

* 每个版本 = 一张图
* 不可变

---

### 2️⃣ 消费数据流（问数 / AI）

```text
问数请求
 → 绑定当前 Active 语义版本
 → 裁剪知识网络子图
 → 作为 AI 上下文
 → 返回结果
```

---

### 3️⃣ 变更反馈流（治理闭环）

```text
使用中发现问题
 → 跳转到语义建模
 → 产生新 Suggestion
 → 新版本发布
 → 新图生成
```

---

## 六、为什么“资源知识网络必须在语义版本之上”

这是很多团队会犯错的地方，我帮你把逻辑说死：

| 放置位置     | 后果        |
| -------- | --------- |
| 在语义建模过程中 | 图不稳定，无法复用 |
| 直接连物理表   | 失去业务语义    |
| 绕过版本     | 问数结果不可解释  |

👉 **正确位置只有一个：语义版本之上**

---

## 七、你现在这个设计的成熟度判断

如果你按这套关系图去落地：

> 你已经不是在做
> “一个带图的语义平台”，
> 而是在做
> **“以语义版本为核心的知识驱动型数据平台”**。

---


