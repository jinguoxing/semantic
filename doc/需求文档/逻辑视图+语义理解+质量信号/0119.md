
# 一、整体设计原则（先定死，避免返工）

你现在这套页面调整，**必须同时满足 4 个原则**：

1. **逻辑视图仍然是“唯一的表上下文页”**
2. **语义理解不是新页面，而是逻辑视图的一种“工作模式”**
3. **字段是裁决对象，表是理解上下文**
4. **质量信号是“提示层”，不是治理结果**

下面所有结构设计，都严格遵守这 4 点。

---

# 二、逻辑视图列表页（List）— 轻调整即可

## 1. 原角色

* 找表
* 看结构范围

## 2. 调整后的角色

* **判断“这张表是否已进入治理、是否适合进入语义理解”**
* **作为语义理解的主入口之一**

---

## 3. 列结构调整（新增，不破坏原有）

```text
[逻辑视图列表]

表名 | 表语义类型 | 语义治理进度 | 质量概览 | 安全等级 | 操作
----------------------------------------------------------
t_order
     | 事件
     | 字段 12/15
     | ⚠ 3
     | L2
     | 开始语义理解 / 继续
```

### 说明

* **表语义类型**：只读（主体 / 事件 / 关系 / 维度）
* **语义治理进度**：字段已裁决数 / 总数
* **质量概览**：失败字段数（聚合）
* **操作**：

  * 未开始 →「开始语义理解」
  * 已开始 →「继续语义理解」

> ❗ 不要在列表页做任何编辑，只做“是否该进去”的判断。

---

# 三、逻辑视图详情页（Detail）— 核心改造点

这是**你们最重要的一页**。

---

## 1. 顶部结构（新增「治理状态层」）

```text
┌────────────────────────────────────────┐
│ 表名：t_order     表语义：事件         │
│ 字段语义：12/15 已确认   ⚠ 3 阻塞     │
│ 质量：3 字段异常   安全：L2            │
│ [开始/继续语义理解]  [查看语义版本]   │
└────────────────────────────────────────┘
```

### 作用

* 让用户**一眼知道当前治理状态**
* 表语义是**概览，不是编辑重点**
* 所有“进入语义理解”的主入口在这里

---

## 2. 页面模式切换（关键）

逻辑视图详情页有 **两种模式**：

```text
【浏览模式】 ⇄ 【语义理解模式】
```

不是两个页面，是一个页面的两种状态。

---

# 四、逻辑视图详情 · 浏览模式（默认）

### 页面结构

```text
┌──────────────┬────────────────────────┐
│ 字段列表      │ 字段基础信息            │
│              │ - 类型                  │
│              │ - 示例值                │
│              │ - 基本统计              │
└──────────────┴────────────────────────┘
```

### 特点

* 和你们现在几乎一致
* 不做语义裁决
* 可看到：

  * 当前语义状态（只读）
  * 质量/安全概览（只读）

---

# 五、逻辑视图详情 · 语义理解模式（重点）

> 点击「开始 / 继续语义理解」进入

---

## 1. 整体布局（稳定、研发友好）

```text
┌──────────────┬──────────────────┬────────────────────┐
│ 字段列表      │ 字段上下文区      │ 语义裁决面板        │
│（治理状态）   │（理解证据）       │（唯一可编辑）      │
└──────────────┴──────────────────┴────────────────────┘
```

---

## 2. 左侧：字段列表（治理对象）

```text
字段名        语义状态   风险
--------------------------------
order_id     ✔ 已确认   -
order_status ⚠ 待确认   ENUM_NOT_STABLE
amount       ✔ 已确认   -
create_time  ⚠ 待确认   DIRTY_TYPE
```

### 要点

* 这是**治理主线**
* 状态一眼可扫
* 风险只提示，不裁决

---

## 3. 中间：字段上下文区（理解证据）

```text
字段：order_status

[结构信息]
- 类型：varchar
- 是否可空：否

[示例值]
- PAID / CREATED / SHIPPED

[语义质量信号（只读）]
- 空值率：2%
- distinct_count：6
- top3 占比：80%
⚠ ENUM_NOT_STABLE
```

### 说明

* 这是**理解，不是治理**
* 质量信号只作为证据
* 不出现“通过 / 不通过”

---

## 4. 右侧：语义裁决面板（唯一编辑区）

```text
【AI 语义建议】
- Role：Status（置信度 0.72）
- Term：订单状态
- Tags：Status

【人工裁决】
- Role：⦿ Status / ○ Attribute / ○ Other
- Term：订单状态（可改）
- Tags：Status / Core
- 备注

[接受] [修改并接受] [拒绝]
```

### 强约束

* **所有可编辑项只在这里**
* 一次裁决 = 一条 Decision
* 自动记录 version/run/decision_ref

---

# 六、字段语义理解工作台（不替代逻辑视图）

如果你们保留「字段语义理解」菜单，它应该是：

> **调度页，而不是理解页**

---

## 结构（简化）

```text
字段 | 表 | 表语义 | 风险 | 状态 | 操作
----------------------------------------
status | t_order | 事件 | ⚠ | 待确认 | 去处理
```

点击「去处理」：

* 跳转 → **逻辑视图详情**
* 自动进入 **语义理解模式**
* 自动选中该字段

---

# 七、哪些页面你**不需要新增**

❌ 不需要单独的「表语义理解页」
❌ 不需要把质量检测结果塞进语义理解页
❌ 不需要“语义理解配置页”

---

# 八、最终页面结构总览（给你一张脑图式总结）

```text
逻辑视图列表
  └── 逻辑视图详情
        ├── 浏览模式
        │     └── 看结构 + 看概览
        └── 语义理解模式
              ├── 字段列表（治理主线）
              ├── 字段上下文（证据）
              └── 语义裁决面板（编辑）
```

---

# 九、你可以直接对团队说的一句话

> **语义理解不是一个新页面，
> 而是逻辑视图从“看结构”切换到“对字段负责”的工作模式。**

---

## 下一步我可以继续帮你做的（直接工程级）

如果你愿意，下一步我可以直接给你其中一个：

1️⃣ **把上面结构拆成前端组件树（React / Vue 级）**
2️⃣ **列出每个区域依赖的后端接口与数据模型字段**
3️⃣ **按这个结构给你一版 Figma Frame 清单**

你选一个，我继续往下落。
