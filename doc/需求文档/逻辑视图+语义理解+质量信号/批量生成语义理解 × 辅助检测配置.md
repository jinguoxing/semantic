# Figma Frame 设计说明

## 批量生成语义理解 × 辅助检测配置（v2.4）

> 使用场景：
> 逻辑视图列表页 → 勾选多张表 → 批量生成语义建议 / 批量准备语义理解

---

## 一、整体交互入口（先定清）

### 入口位置（必须有）

**逻辑视图列表页（List）**

* 多选 Checkbox
* 批量操作区（Sticky 或 Table Header）

  * 主按钮：`批量生成语义建议`

点击后 → 打开 **批量生成弹窗（Modal）**

---

## 二、Frame 总览（你需要画的 3 个 Frame）

```text
Frame E1：Batch Semantic Generation — Config
Frame E2：Batch Semantic Generation — Running
Frame E3：Batch Semantic Generation — Result
```

---

## Frame E1

### Batch Semantic Generation — Config（核心）

> **这是最重要的一张**

### 1️⃣ 弹窗规格

* 类型：Modal
* 宽度：720–840px
* 高度：自适应（≤ 80vh）
* 可关闭：右上角 ×

---

### 2️⃣ 顶部信息区（只读，增强信心）

```text
批量生成语义建议

已选表：12
逻辑视图：订单域 / 用户域
```

> 说明：
>
> * 明确“我这次要对什么做操作”
> * 防止误操作

---

### 3️⃣ 模块一：语义理解辅助检测（重点）

#### 模块标题

```text
语义理解辅助检测
```

#### 模块说明（小字，必须有）

```text
用于提升语义建议准确性，仅作为辅助信号，不影响语义裁决
```

---

### 3.1 辅助检测开关（默认开启）

```text
[✓] 启用语义理解辅助检测（推荐）
```

* 默认：开启
* 关闭后：

  * 不跑 profile
  * 仍可生成语义建议（但置信度降低）
* 关闭 ≠ 报错

---

### 3.2 模板信息（只读）

```text
检测模板：SEMANTIC_MIN
```

* 不可编辑
* 不展示“规则”
* 不进入质量治理概念

---

### 3.3 采样配置（唯一允许调整的参数）

```text
数据采样比例：
(•) 0.5%     (•) 1%（推荐）     (•) 5%
```

> 设计说明：

* Radio Group
* 简单明确
* 不给高级参数，防止误解

---

### 3.4 计算策略（高级选项，默认折叠）

```text
▸ 高级选项
```

展开后：

```text
[ ] 强制重新计算（忽略缓存）
```

* 默认关闭
* 旁边提示：

  ```text
  若已存在未过期的检测结果，将直接复用
  ```

---

### 4️⃣ 模块二：执行说明（只读）

```text
执行说明
• 本次操作仅生成语义建议，不自动生效
• 语义裁决仍需人工确认
• 执行过程中不会影响现有语义版本
```

> 这是为了**降低用户心理负担**

---

### 5️⃣ Footer 操作区（必须明确）

```text
[ 取消 ]                      [ 开始生成 ]
```

* 「开始生成」是唯一主按钮
* 点击后进入 Frame E2

---

## Frame E2

### Batch Semantic Generation — Running

> 批量任务进行中状态

---

### 1️⃣ 标题区

```text
正在批量生成语义建议
```

---

### 2️⃣ 进度区（核心）

```text
进度： 4 / 12 张表
[███████░░░░░░░░░░░░]
```

* Progress Bar
* 实时更新

---

### 3️⃣ 当前执行信息

```text
当前处理：
t_order
语义理解辅助检测：开启（1% 采样）
```

---

### 4️⃣ 运行状态提示

```text
• 正在计算字段画像
• 正在生成语义建议
```

（可轮换 / 或简化为一句）

---

### 5️⃣ 操作区

```text
[ 在后台运行 ]
```

* 点击后关闭弹窗
* 任务继续
* 用户可在“运行记录 / 通知”查看

---

## Frame E3

### Batch Semantic Generation — Result

> 批量任务结束后的总结页

---

### 1️⃣ 结果概览（卡片式）

```text
批量生成完成

成功：10
部分成功：2
失败：0
```

---

### 2️⃣ 失败 / 警告明细（如有）

```text
⚠ 以下表部分字段生成失败：
- t_user（2 个字段）
原因：数据采样不足
```

---

### 3️⃣ 下一步引导（非常关键）

```text
你可以：
[ 查看字段语义理解工作台 ]
[ 返回逻辑视图列表 ]
```

---

## 三、组件级拆分（方便你进设计系统）

建议设计师抽成组件：

* `BatchActionModal`
* `AssistDetectionConfigPanel`
* `SampleRatioRadioGroup`
* `BatchProgressBar`
* `BatchResultSummaryCard`

---

## 四、与详情页辅助检测的关系（设计必须体现）

在 Frame E1 的辅助说明或 tooltip 中明确：

```text
本次配置仅用于当前批量任务
不会影响单表详情页的默认设置
```

这是防止用户误以为：

> “我这次点了，所有地方都变了”

---

## 五、给研发的隐含对齐点（你不用写在 Figma，但要知道）

* 弹窗配置 → 直接作为 `assist_config_snapshot` 写入 batch run
* 不读取详情页状态
* 详情页后续展示：

  * “该语义建议生成于：批量任务（1% 采样）”

---

## 六、你现在可以直接让设计师做的事

你可以把下面这句话原封不动丢给设计师：

> 请按以下 Frame 画三张图：
> 1）批量生成语义建议配置弹窗（含辅助检测配置）
> 2）批量生成进行中进度弹窗
> 3）批量生成完成结果弹窗
> 所有辅助检测配置只允许：开启/关闭 + 采样比例，不出现质量规则或通过/失败概念。

---


