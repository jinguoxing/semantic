# 逻辑视图列表页面优化方案 V2

> 分析时间：2026-01-20
> 状态：待确认实施

---

## 一、问题澄清

### 1.1 当前按钮功能关系

```
┌─────────────────────────────────────────────────────────────┐
│  头部固定区域                                                │
│  [生成建议 Run] ← 功能同下方"批量生成【语义模型】"           │
│                   始终可见，滚动时固定                        │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│  列表操作区域 (BatchOperationBar)                            │
│                                                              │
│  [批量生成语义理解 (N)]      [批量生成【语义模型】(N)]        │
│        ↓                              ↓                      │
│  字段角色+术语分析            AI生成业务名称+描述             │
│  + 辅助检测配置                                              │
│                                                              │
│  ✖ 功能分离，用户困惑                                        │
└─────────────────────────────────────────────────────────────┘
```

### 1.2 核心问题
- 功能应合并：语义理解 = 字段分析 + AI建议 + 辅助检测
- 两个入口冗余：头部按钮与下方按钮功能相同

---

## 二、优化方案

### 2.1 按钮合并

**合并前** (3个按钮):
```
[生成建议 Run]
[批量生成语义理解 (N)]  
[批量生成【语义模型】(N)]
```

**合并后** (1个入口):
```
[✨ 批量语义理解 (N表)]
  └── 弹窗内含:
      ├── 辅助检测配置 (原语义理解的配置)
      ├── 字段角色分析
      ├── 标准术语映射
      └── AI生成业务名称/描述
```

### 2.2 头部按钮处理

| 方案 | 描述 |
|-----|------|
| **A. 保留** | 改名 → `批量语义理解`，与下方按钮联动 |
| **B. 移除** | 只保留下方操作区的按钮 |
| **C. 简化** | 改为 `运行分析`，功能不变 |

**推荐: 方案A** - 保留但名称统一

### 2.3 新按钮命名

```
[✨ 批量语义理解 (N表)]
```

### 2.4 合并后弹窗内容

```
┌─────────────────────────────────────────┐
│  批量语义理解配置                        │
├─────────────────────────────────────────┤
│  📊 执行范围                             │
│     已选表: 5 张                         │
│                                         │
│  ⚙️ 分析配置                            │
│     ☑ 字段角色识别                       │
│     ☑ 标准术语映射                       │
│     ☑ AI生成业务描述                     │
│                                         │
│  🔍 辅助检测 (原语义理解配置)            │
│     采样行数: [1000]                     │
│     并发数: [3]                          │
│                                         │
│  [取消]              [开始分析]          │
└─────────────────────────────────────────┘
```

---

## 三、其他优化项

### 3.1 表头列名
| 当前 | 优化后 |
|-----|-------|
| `语义建模阶段` | `建模状态` |

### 3.2 状态颜色编码
```
未开始        → 灰色
语义待确认    → 黄色  
建模进行中    → 蓝色
可对象建模    → 绿色
```

---

## 四、涉及文件修改

```
1. src/views/DataSemanticUnderstandingView.tsx
   - 头部按钮改名 (line ~905)
   - 移除/合并批量操作入口

2. src/views/semantic/components/BatchOperationBar.tsx
   - 合并两个按钮为一个
   - 整合辅助检测配置

3. src/views/semantic/components/BatchSemanticConfigModal.tsx
   - 合并配置项
```

---

## 五、待确认

- [ ] 1. 头部按钮保留/移除/简化？(推荐保留并统一命名)
- [ ] 2. 合并后按钮名称: `批量语义理解` 是否合适？
- [ ] 3. 弹窗配置项布局是否合理？
- [ ] 4. 表头 "语义建模阶段" → "建模状态"？

---

**确认后回复，我将开始实施！**
