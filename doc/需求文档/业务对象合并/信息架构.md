下面给你一份**合并后的「业务对象建模页」完整信息架构（IA）+ 交互结构**，你可以直接拿去画 Figma 或拆前端任务。内容会严格对齐你现在两张页面的元素，并把“候选页”的能力完整吸收进来。

---

# 合并方案 · 业务对象建模页（Final IA）

## 目标

* **只保留一个对象入口：业务对象建模**
* **候选业务对象页面下线**（能力内嵌）
* 通过 **对象状态（Candidate/Pending/Published）** 承载识别、批量确认、冲突解释

---

# 1. 页面级信息架构（Page Layout）

## 1.1 顶部 Header（沿用你现有建模页）

**位置：页面顶部固定区域**

* 面包屑：`数据语义治理 / 业务对象建模`
* 标题：`业务对象建模`
* 描述：`定义核心业务实体、属性及其数据标准`

**右侧操作区（保持你现有两个主按钮，但增加逻辑限制）**

* `+ 新建对象`（始终可用）
* `发布语义版本`（仅当筛选范围内存在 *可发布对象* 时可用；否则置灰并给出提示）
* 更多：`历史版本/回滚/导入导出（可选）`

> 关键：发布按钮不再“只跟页面有关”，而是跟“对象状态”有关。

---

## 1.2 二级导航：对象状态 Tabs（新增，承接候选页）

**放在标题下、筛选栏上方（优先级高）**

Tabs：

* `全部`
* `候选中（Candidate）`  ⭐ 来自“候选业务对象”
* `待确认（Pending）`   ⭐ 冲突/待处理/流程中
* `已发布（Published）`

Tab 右侧可带计数：

* `候选中（12）`、`待确认（3）`

---

## 1.3 Summary Bar（仅候选/待确认 Tab 显示）

**完全吸收候选页顶部统计条**

展示字段（按你候选页）：

* `总对象数`
* `已接受`（可理解为：已从候选转为 Pending/Confirmed）
* `待确认`
* `冲突项`
* `平均置信度`

右侧可放一个轻量“刷新识别”按钮（沿用候选页右上角刷新图标）：

* `重新识别/刷新建议`（权限控制）

---

## 1.4 工具栏 Toolbar（融合两页筛选能力）

**沿用你建模页的搜索 + 筛选 + 排序**

* 搜索框：`搜索对象名或编码...`
* 筛选：

  * 业务域（左侧树已存在，可同步）
  * 状态（当在“全部”Tab 时可用）
  * 映射状态（已映射/未映射/部分）
  * 类型（主体/事件/…）
  * 负责人
  * 冲突（仅候选/待确认 Tab：有冲突/无冲突）
  * 置信度区间（仅候选 Tab：高/中/低）
* 排序：最近更新 / 置信度 / 字段数 / 映射完成度

---

## 1.5 主体区域：左侧域树 + 右侧对象卡片网格（沿用建模页结构）

### 左侧：业务域树（保持）

* 搜索业务域
* 全部业务域
* 域分组与数量徽标

### 右侧：对象卡片网格（升级卡片内容）

卡片仍保持你现有结构（对象名、编码、描述、域、字段数、映射进度），但新增：

**(A) 状态标签（必加）**

* `候选`（紫/蓝）
* `待确认`（橙）
* `已发布`（绿）
* 可保留你已有 `主体/事件` 标签

**(B) 候选来源与证据（仅候选/待确认显示）**

* 一行证据摘要：

  * `来源：t_user_info`、`来源表：3`、`关键字段：user_id`
* 置信度进度条（可复用候选页的视觉）

**(C) 冲突提示（仅当冲突存在）**

* 卡片右上角：`⚠ 冲突`
* 点击进入“冲突详情抽屉”（见 2.3）

**(D) 卡片底部主 CTA（随状态变化）**

* 候选：`接受并进入建模` / `查看建议`
* 待确认：`去解决冲突` / `继续完善`
* 已发布：`查看详情` / `去映射`

---

# 2. 关键交互与弹层（替代候选页的三个按钮）

你候选页有三个核心入口：

* 识别结果对比
* 批量确认
* 冲突解释

合并后，它们变成建模页中的**三类操作面板/抽屉**。

---

## 2.1 「查看建议 / 识别结果对比」→ 对象建议抽屉（新增）

触发方式：

* 在候选对象卡片点击 `查看建议`
* 或点击对象名进入详情时，若为候选状态，默认打开“建议视图”

抽屉内容结构：

1. **建议摘要**

* 建议对象名/类型
* 置信度
* 证据：来源表、关键字段、字段覆盖率

2. **字段/属性建议列表**

* 属性名（建议）
* 映射字段（来源表.字段）
* 语义证据（字段语义理解结果：term/role/tag）
* 风险提示（质量/安全只读）

3. **对象级操作（Decision）**

* `接受`（Candidate → Pending/Confirmed）
* `修改后接受`（允许改名/改域/改类型）
* `拒绝`

> 对应候选页的“查看详情 + 确认”能力。

---

## 2.2 「批量确认」→ 卡片多选 + 批量操作条（新增）

触发方式：

* 网格左上角 `多选`（你卡片已具备 checkbox）
* 选中多个候选对象后，底部浮动操作条出现：

批量操作：

* `批量接受`
* `批量拒绝`
* `批量分配负责人`
* `批量移动业务域`
* `批量进入待确认（如存在冲突）`

批量接受规则：

* 无冲突 → 直接 `Candidate → Pending/Confirmed`
* 有冲突 → 进入 `待确认` 并要求处理冲突

---

## 2.3 「冲突解释」→ 冲突处理抽屉（新增，最关键）

触发方式：

* 卡片 `⚠ 冲突` 标签
* 或 Tab `待确认` 列表点击 `去解决冲突`

抽屉结构：

1. **冲突概览**

* 冲突类型：重复命名 / 属性冲突 / 主键冲突 / 多表归属冲突
* 影响范围：涉及对象数、涉及表数、涉及字段数

2. **冲突详情（可操作）**

* 左侧：冲突来源对象 A/B/C（候选）
* 右侧：建议的解决方案（AI/规则）

  * `合并为一个对象`
  * `拆分为多个对象`
  * `选择保留其中一个`
  * `映射到已有对象`

3. **解决动作（Decision）**

* `确认合并`
* `确认拆分`
* `确认映射`
* `暂缓`（保留待确认状态）

---

# 3. 对象详情页（打开对象后的一致体验）

从卡片进入对象详情页：

* 如果状态 = `Candidate`
  默认进入 **“建议视图”**（只读结构 + 可接受/修改/拒绝）
* 如果状态 = `Pending`
  默认进入 **“建模视图”**（可编辑）并提示未完成项/冲突项
* 如果状态 = `Published`
  默认进入 **“只读视图”**（变更需创建新版本或进入草稿）

---

# 4. 状态与操作矩阵（研发必须用它收口）

| 状态        | 允许操作                  | 不允许操作            |
| --------- | --------------------- | ---------------- |
| Candidate | 接受/拒绝/修改后接受/批量操作/查看证据 | 发布版本、作为最终对象被下游消费 |
| Pending   | 编辑建模/解决冲突/提交审批（如有流程）  | 直接发布（需满足发布条件）    |
| Published | 查看/映射/下游绑定            | 直接修改（需走新草稿/新版本）  |

---

# 5. 对你现有两页的“合并映射表”（确保不丢功能）

| 现有候选页模块      | 合并后位置                       |
| ------------ | --------------------------- |
| 总览统计条        | 建模页 Summary Bar（候选/待确认 Tab） |
| 识别结果对比       | 对象建议抽屉（2.1）                 |
| 批量确认         | 卡片多选 + 批量操作条（2.2）           |
| 冲突解释         | 冲突处理抽屉（2.3）                 |
| 列表行“确认/查看详情” | 卡片 CTA + 抽屉内 Decision       |

---

# 6. 你可以直接给设计/前端的“最小交付拆分”（MVP）

MVP 只做 6 件事就能上线合并版：

1. 建模页新增 Tabs（全部/候选/待确认/已发布）
2. 候选/待确认显示 Summary Bar
3. 卡片新增 状态标签 + 冲突标识 + 置信度
4. 候选对象建议抽屉（接受/拒绝/修改后接受）
5. 多选批量操作条（批量接受/拒绝）
6. 冲突处理抽屉（先支持“合并/保留一个”两种即可）

---

