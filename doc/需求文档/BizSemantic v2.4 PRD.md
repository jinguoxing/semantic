
# BizSemantic v2.4

## 业务语义建模平台 PRD（完整结构版）

---

## 1. 背景与目标

### 1.1 背景问题

当前 v2.3 已解决：

* 从库表出发的 Bottom-up 语义理解
* 业务对象（L1）与数据映射（L3）的可信沉淀
* AI + 规则 + 人工确认的裁决链路

但仍存在关键断点：

* 业务在**没有库表时无法开始**
* 数据接入后，业务对象需要“推翻重建”
* Top-down 与 Bottom-up 缺少统一收敛点

---

### 1.2 v2.4 目标（一句话）

> **支持“先有业务认知、再有数据验证”的语义建模路径，并保证资产长期稳定。**

---

### 1.3 v2.4 核心原则（冻结）

1. AI 永远只产出建议，不自动生效
2. Bottom-up 是发现主路径，Top-down 是校准路径
3. 业务对象是唯一核心资产
4. 术语、标签是附属能力，不参与裁决
5. 所有变更必须可解释、可回溯

---

## 2. 用户角色与使用场景

### 2.1 角色定义

* **业务负责人**：描述业务对象与边界
* **数据负责人**：校验数据与对象的匹配关系
* **平台治理者**：发布、弃用、复用对象

---

### 2.2 核心使用场景

1. 业务还未建系统，先梳理业务对象
2. 新系统上线，对齐已有业务对象
3. 数据接入后，验证业务假设是否成立
4. 跨系统统一业务语义

---

## 3. 功能总览（v2.4）

### 3.1 功能模块一览

| 模块                 | v2.3 | v2.4  |
| ------------------ | ---- | ----- |
| Bottom-up 语义理解     | ✅    | ✅     |
| 业务对象（L1）           | ✅    | ✅     |
| 数据映射（L3）           | ✅    | ✅     |
| 业务对象草模（Draft）      | ❌    | ✅     |
| Draft → Active 状态机 | ❌    | ✅     |
| Draft × 数据匹配       | ❌    | ✅     |
| 智能标签推荐             | ❌    | ✅     |
| 术语候选提前生成           | ❌    | ✅     |
| Run Snapshot       | ✅    | ✅（增强） |

---

## 4. 功能一：业务对象草模（Draft Object）

### 4.1 功能说明

支持在**没有任何库表**的情况下，创建“业务对象草模”，用于：

* 记录当前业务认知
* 等待数据接入后校验

---

### 4.2 创建流程（Top-down）

#### Step 1：业务事实梳理（L0）

用户输入：

* 关心的对象（Things）
* 发生的过程（Actions）
* 关心的结果（Results）

**产品约束**

* 不出现“实体 / 建模 / ER”等术语
* 所有输入可选，不强制完整

---

#### Step 2：生成业务对象草模

系统生成：

* 对象名称（可编辑）
* 对象描述（1–2 句话）
* 对象类型（内部识别，不展示）
* 初始标签（domain / usage）

---

### 4.3 Draft 阶段约束（强制）

* ❌ 不允许绑定系统 / 表 / 字段
* ❌ 不允许定义完整字段模型
* ❌ 不允许直接作为分析标准
* 状态固定为 `DRAFT`

---

## 5. 功能二：对象生命周期状态机

### 5.1 状态定义

| 状态         | 含义     |
| ---------- | ------ |
| DRAFT      | 业务草模   |
| REVIEW     | 待人工审核  |
| ACTIVE     | 正式业务对象 |
| DEPRECATED | 已弃用    |
| ARCHIVED   | 已归档    |

---

### 5.2 状态迁移规则

* Draft → Review：发现数据匹配或人工发起审核
* Review → Active：人工确认发布
* Active → Deprecated：治理弃用
* Deprecated → Active：恢复

---

## 6. 功能三：Draft × Bottom-up 数据匹配

### 6.1 触发时机

* 新数据源完成扫描
* 或 Draft 创建后主动触发匹配

---

### 6.2 匹配结果类型

* **Strong Match**：数据高度符合业务定义
* **Partial Match**：部分符合，需补充
* **Conflict**：与定义冲突

---

### 6.3 UI 要求

* 明确展示：

  * 支持假设的数据证据
  * 不一致的地方
* 不自动生效，进入 Review

---

## 7. 功能四：语义理解阶段的智能标签

### 7.1 标签定位

* 标签是**理解辅助**
* 不参与 Gate / Score / Upgrade

---

### 7.2 标签类型

* domain / shape / usage / risk / tech

---

### 7.3 标签来源

* Rule 派生（强一致）
* AI 推荐（弱建议）

---

## 8. 功能五：术语候选提前生成

### 8.1 生成时机

* Bottom-up 语义理解阶段
* Draft 匹配阶段

---

### 8.2 生效规则

* 仅作为候选展示
* 仅在 Review → Active 时写入术语资产

---

## 9. 功能六：Review 审核流程（核心）

### 9.1 审核清单

1. 对象是否真实存在
2. 对象边界是否清晰
3. 标准名称是否确认
4. 是否复用已有对象
5. 数据匹配是否合理
6. 是否需要建立映射

---

### 9.2 审核结果

* 发布为 Active
* 返回 Draft 补充
* 新建对象 / 合并对象

---

## 10. Run Snapshot（增强）

### 10.1 覆盖范围

* Bottom-up 语义理解
* Draft × 数据匹配

---

### 10.2 能力

* 复现任意一次运行
* 对比不同时点的识别结果
* 解释变化原因

---

## 11. 权限与审计

### 11.1 权限

* 创建 Draft：业务/数据负责人
* 发布 Active：治理角色
* 弃用/恢复：治理角色

---

### 11.2 审计

* 所有状态变化记录审计
* 所有对象版本可回溯

---

## 12. 非目标（明确不做）

* 不做传统 ER 建模
* 不让 AI 自动生效
* 不允许标签影响对象定义
* 不要求业务理解建模理论

---

## 13. v2.4 MVP 范围（建议）

**必须**

* Draft 创建
* Draft → Review → Active
* Draft × 数据匹配
* Review Checklist

**增强**

* 智能标签
* 术语候选
* Run Snapshot 增强

---

## 14. 成功验收标准

1. 无数据也能创建对象
2. 数据接入不推翻对象
3. 所有结论可解释
4. 对象可跨系统复用
5. 用户无需理解建模

---

### 结语（一句话）

> **BizSemantic v2.4 让业务语义成为“可以提前形成、又能被数据验证的长期资产”。**

---

