很好，这一步**非常关键**。
下面这份是我基于**你整个对话的完整上下文**，帮你整理出的 **《BizSemantic v2.4 冻结版 PRD》**，定位是：

> **可评审 / 可对齐 / 可交付给研发 & AI 工程的冻结版本**

内容会**偏“工程可实现”**，而不是概念稿。

---

# BizSemantic v2.4 冻结版 PRD

**（Business Semantic Modeling Platform）**

---

## 1. 产品背景与目标

### 1.1 背景

在企业与政务场景中，存在大量结构化数据（数据库表、字段），但：

* 业务人员无法理解表字段含义
* 相同业务对象在不同系统、部门中口径不一致
* 数据使用时仍需“问人 / 看文档 / 猜字段”
* AI 问数、指标分析难以建立稳定语义基础

**BizSemantic** 的目标是构建一个：

> **“人可理解、AI 可消费、可治理的业务语义层”**

---

### 1.2 产品目标（v2.4）

在 v2.4 冻结版中，BizSemantic 的核心目标是：

1. **将底层元数据 → 业务语义**
2. **通过 AI + 人工确认，生成可信语义资产**
3. **支撑后续 AI 问数 / 指标 / 应用调用**

---

## 2. 核心方法论（冻结）

### 2.1 语义分层（L0–L3）

| 层级 | 名称   | 说明                |
| -- | ---- | ----------------- |
| L0 | 业务事实 | 现实世界中的人 / 行为 / 状态 |
| L1 | 业务对象 | 对 L0 的抽象（对象 + 属性） |
| L2 | 业务场景 | 对象在具体业务场景中的使用     |
| L3 | 物理映射 | 语义 → 底层表 / 字段     |

> **v2.4 原则**：
>
> * UI 中不强制暴露 L0–L3 概念
> * 用户“在用”，系统“在分层”

---

### 2.2 三类对象类型（内部模型）

| 类型           | 定义        | 示例         |
| ------------ | --------- | ---------- |
| 主体（Entity）   | 长期存在的对象   | 公民、订单、服务器  |
| 行为（Event）    | 瞬时发生的动作   | 出生登记、订单支付  |
| 状态（Snapshot） | 主体在某时刻的状态 | 婚姻状态、服务器状态 |

> 状态对象 **不是必须存在**，用于需要“时点分析 / 历史对比”的场景。

---

## 3. 产品整体架构

### 3.1 模块划分

```
数据源连接
  ↓
元数据扫描 & Profiling
  ↓
语义理解（规则 + AI）
  ↓
语义审核（Human-in-the-loop）
  ↓
语义资产生效 & 治理
  ↓
下游消费（AI / BI / API）
```

---

### 3.2 核心资产类型

| 资产   | 说明           |
| ---- | ------------ |
| 元数据  | 表、字段、类型、统计信息 |
| 业务对象 | 抽象后的语义对象     |
| 语义建议 | AI/规则生成的候选语义 |
| 语义版本 | 已确认、可消费的语义   |
| 术语   | 统一业务语言（可选）   |
| 标签   | 轻量语义补充       |

---

## 4. 核心功能模块（v2.4）

---

### 4.1 数据源与元数据管理

#### 功能点

* 支持关系型数据库接入（MySQL / PG / Oracle）
* 表 / 字段结构扫描
* 字段 Profiling：

  * 空值率
  * 唯一度
  * 示例值
* 元数据版本快照

#### 输出

* `table_metadata`
* `column_metadata`

---

### 4.2 语义理解引擎（核心）

#### 输入

* 表名 / 字段名
* 字段注释
* 数据类型
* Profiling 结果
* 样本值

#### 处理方式

* **规则引擎**
* **AI 语义理解**
* **规则 + AI 融合打分**

#### 输出（关键）

> **AI 只输出「语义建议（Suggestion）」**

---

### 4.3 字段级语义理解维度（冻结）

| 维度编码 | 维度     | 说明             |
| ---- | ------ | -------------- |
| D01  | 语义角色   | 主键 / 业务属性 / 维度 |
| D02  | 业务对象归属 | 属于哪个业务对象       |
| D03  | 业务含义   | 自然语言解释         |
| D04  | 安全等级   | 敏感级别           |
| D05  | 标签     | 可选智能标签         |

---

### 4.4 语义审核（Review 页面）

#### 设计原则

* **AI 给建议，人做裁决**
* 不允许 AI 自动生效
* 所有修改可审计

#### 页面能力

* 建议 vs 当前状态 对比
* 置信度展示
* 规则 / AI 证据解释
* 批量确认
* 覆盖（Override）必须填写原因

---

### 4.5 语义状态机（冻结）

```
NOT_ANALYZED
  ↓
ANALYZING
  ↓
SUGGESTED
  ↓（人工）
CONFIRMED / OVERRIDDEN
```

---

### 4.6 语义资产版本管理

#### 特性

* 每次确认生成新版本
* 不覆盖历史
* 支持回滚
* 下游只读「ACTIVE 版本」

---

## 5. AI Agent 设计（v2.4 冻结）

### 5.1 AI 角色定义

> **AI = Suggestion Provider（建议者）**

明确禁止：

* 自动确认
* 自动写入生效表
* 自动修改状态

---

### 5.2 Page Context 协议（关键）

每次调用 AI，必须显式传入：

```json
{
  "page_id": "field_semantic_review",
  "page_stage": "REVIEW",
  "semantic_level": "COLUMN",
  "ai_role": "SUGGESTION_PROVIDER"
}
```

---

### 5.3 AI 输出协议（冻结）

* 严格 JSON Schema
* 标记为 `SUGGESTED`
* 提供证据 & 置信度
* 不输出 UI 文案

---

## 6. Bottom-up & Top-down 建模关系

| 模式        | 入口   | 适用场景      |
| --------- | ---- | --------- |
| Bottom-up | 数据表  | 已有系统      |
| Top-down  | 业务对象 | 无库表 / 规划期 |

**v2.4 原则**：

* 两者最终汇聚到 **业务对象 + 映射层**
* 用户无需理解差异

---

## 7. 术语与标签策略（冻结）

### 7.1 术语（Term）

* 强约束
* 用于跨部门统一口径
* 可绑定业务对象 / 字段

### 7.2 标签（Tag）

* 弱约束
* AI 可推荐
* 用于搜索 / 辅助理解

> UI 层面：**不强制区分概念，只展示“说明 / 标签”**

---

## 8. 非目标（v2.4 不做）

* 自动生成指标
* 自动口径对齐
* 跨系统血缘推理
* AI 自动治理

---

## 9. 成功标准（Definition of Done）

* 用户无需理解语义建模概念
* 字段语义可被非技术人员确认
* AI 问数可稳定基于语义层
* 所有语义变更可追溯

---

## 10. 附：v2.4 产品定位一句话

> **BizSemantic 是一个通过 AI + 人工确认，将底层数据转化为可信业务语义资产的平台。**

---

### ✅ 下一步我可以继续帮你做的事

* 输出 **Word / Markdown 可下载版**
* 拆成 **研发任务清单（Backend / Frontend / AI）**
* 做 **v2.5 演进路线图**
* 写 **对外解决方案白皮书**

你直接说 **下一步要哪一个**。
